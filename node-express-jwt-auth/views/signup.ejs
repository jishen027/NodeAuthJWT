<%- include('partials/header'); %>

  <form action="POST">
    <h2>Sign up</h2>
    <label for="email">Email</label>
    <input type="text" name="email" id="email" required>
    <div class="email error"></div>
    <label for="password">Password</label>
    <input type="password" name="password" id="password" required>
    <div class="password error"></div>
    <button>Submit</button>
  </form>

  <script>
    const form = document.querySelector('form')
    form.addEventListener('submit', async (e) => { 
      e.preventDefault()

      //get the values
      const email = form.email.value
      const password = form.password.value

      try {
        const res = await fetch('/signup',{
          method: 'POST',
          body: JSON.stringify({email, password}),
          headers: {'Content-Type': 'application/json'}
        })
      }catch(err) {
        console.log(err)
      }
    })
  </script>

  <%- include('partials/footer'); %>